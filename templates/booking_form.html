{% extends "base.html" %}

{% block content %}
<section class="booking-form-section">
    <h2>Book Your Ticket</h2>

    <div class="bus-details">
        <p><strong>ID:</strong> {{ bus[0] }}</p>
        <p><strong>Origin:</strong> {{ bus[1].title() }}</p>
        <p><strong>Destination:</strong> {{ bus[2].title() }}</p>
        <p><strong>Date:</strong> {{ bus[8] }}</p>
        <p><strong>Departure Time:</strong> {{ bus[5] }}</p>
        <p><strong>Arrival Time:</strong> {{ bus[6] }}</p>
        <p><strong>Cost:</strong> Ksh {{ bus[3] }}</p>
        <p><strong>Seats Available:</strong> {{ bus[7] }}</p>
    </div>

    <form action="{{ url_for('confirm_booking', busid=bus[0]) }}" method="POST" class="booking-form">
        <label for="name">Name:</label>
        <input type="text" id="name" name="name" required><br><br>

        <label for="phone">Phone Number:</label>
        <input type="text" id="phone" name="phone" required><br><br>

        <label for="email">Email:</label>
        <input type="email" id="email" name="email" required><br><br>

        <label for="passengers">Number of Passengers:</label>
        <select id="passengers" name="passengers" required>
            {% for i in range(1, bus[7] + 1) %}
                <option value="{{ i }}">{{ i }}</option>
            {% endfor %}
        </select><br><br>

        <input type="submit" value="Confirm Booking" class="btn btn-primary">
    </form>
</section>
{% endblock %}
